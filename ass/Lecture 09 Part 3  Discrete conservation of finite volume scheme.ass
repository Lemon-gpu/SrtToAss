[Script Info]
; Script generated by Aegisub 3.2.2
; http://www.aegisub.org/
Title: Default Aegisub file
ScriptType: v4.00+
WrapStyle: 0
ScaledBorderAndShadow: yes
YCbCr Matrix: None
PlayResX: 1080
PlayResY: 720

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,Arial,20,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,2,2,2,10,10,10,1
Style: 辉英,Tahoma,35,&H00FFFFFF,&H000000FF,&H003B3C3D,&H00000000,0,0,0,0,70,70,1,0,1,1.3,0.2,2,0,0,10,1

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,00:00:00.000,00:00:06.400,辉英,,0,0,0,,So one thing I want to point out is the discrete conservation properties of any final volume scheme.
Dialogue: 0,00:00:07.240,00:00:11.000,辉英,,0,0,0,,So now we have a working scheme, we want to point out its advantage.
Dialogue: 0,00:00:11.480,00:00:15.200,辉英,,0,0,0,,And that actually corresponds to your question, which is, can we use final difference?
Dialogue: 0,00:00:15.700,00:00:19.880,辉英,,0,0,0,,Yes we can, but we are losing something important in a conservation scheme.
Dialogue: 0,00:00:20.200,00:00:27.240,辉英,,0,0,0,,So if we have a differential equation in the conservation law form,
Dialogue: 0,00:00:27.240,00:00:37.980,辉英,,0,0,0,,and we can integrate, when we integrate over any interval, not just one grid point,
Dialogue: 0,00:00:38.500,00:00:42.840,辉英,,0,0,0,,let's say A to B, where A and B can be very different, U to X,
Dialogue: 0,00:00:42.840,00:00:45.520,辉英,,0,0,0,,we know from the conservative form of the equation,
Dialogue: 0,00:00:46.120,00:00:53.000,辉英,,0,0,0,,this is equal to F of U at A minus F of U at B, right?
Dialogue: 0,00:00:53.980,00:00:56.840,辉英,,0,0,0,,So this is a natural conservation.
Dialogue: 0,00:00:57.240,00:01:03.260,辉英,,0,0,0,,So this is a conservation type of expression, because the, sorry, I have a DDT here,
Dialogue: 0,00:01:03.620,00:01:08.680,辉英,,0,0,0,,the time derivative of a total amount of stuff is equal to what's going in minus what's going out.
Dialogue: 0,00:01:10.480,00:01:19.440,辉英,,0,0,0,,Okay, and in a lot of cases, the numerical schemes may not satisfy that conservation.
Dialogue: 0,00:01:20.540,00:01:26.960,辉英,,0,0,0,,So I have, I think last year or two years ago, I saw an interesting cell phone app.
Dialogue: 0,00:01:27.240,00:01:28.120,辉英,,0,0,0,,It's called Wind Tunnel.
Dialogue: 0,00:01:28.240,00:01:31.640,辉英,,0,0,0,,I don't know how many of you have looked at it.
Dialogue: 0,00:01:31.740,00:01:32.560,辉英,,0,0,0,,You looked at it?
Dialogue: 0,00:01:32.780,00:01:38.060,辉英,,0,0,0,,Anybody else have looked at the, like it's a free app, iPhone or Android called Wind Tunnel.
Dialogue: 0,00:01:39.260,00:01:48.380,辉英,,0,0,0,,It solves the fluid flow equation with, on your screen, and you can draw any shape on the screen.
Dialogue: 0,00:01:49.200,00:01:53.120,辉英,,0,0,0,,What's interesting is that it looks very real, actually.
Dialogue: 0,00:01:53.520,00:01:57.060,辉英,,0,0,0,,But what's interesting is that you can draw something like a band,
Dialogue: 0,00:01:57.240,00:02:05.400,辉英,,0,0,0,,like a bag around the screen, and you're going to see like some flow is going to go into the bag and never comes out.
Dialogue: 0,00:02:05.560,00:02:09.220,辉英,,0,0,0,,So things keeps going into this bag that you draw on the screen.
Dialogue: 0,00:02:09.320,00:02:11.160,辉英,,0,0,0,,You can play with it after a while.
Dialogue: 0,00:02:11.660,00:02:21.020,辉英,,0,0,0,,So that's a very interesting example of a PDU solver not satisfying conservation law.
Dialogue: 0,00:02:22.560,00:02:25.980,辉英,,0,0,0,,Do you mind drawing the bag and see if it conserves the mass?
Dialogue: 0,00:02:27.240,00:02:30.400,辉英,,0,0,0,,Okay, so you have a screen, right?
Dialogue: 0,00:02:30.820,00:02:35.460,辉英,,0,0,0,,And you have flow, I mean, they have visualization of smoke or something.
Dialogue: 0,00:02:36.520,00:02:41.660,辉英,,0,0,0,,And if you can draw, let's say you can draw an airfoil with an opening here,
Dialogue: 0,00:02:42.240,00:02:46.980,辉英,,0,0,0,,and you're going to see the smoke goes into the airfoil and there is no place for it to come out.
Dialogue: 0,00:02:48.580,00:02:54.460,辉英,,0,0,0,,What I'm trying to say is that finite volume schemes would never create something like that.
Dialogue: 0,00:02:56.200,00:02:57.220,辉英,,0,0,0,,Because if you have a screen, you can draw a bag, and you can draw a bag around the screen.
Dialogue: 0,00:02:57.240,00:03:01.020,辉英,,0,0,0,,If you discretize the equation using a finite volume scheme,
Dialogue: 0,00:03:01.560,00:03:12.280,辉英,,0,0,0,,you have dui dt equal to f, so I want to multiply delta x on this side,
Dialogue: 0,00:03:13.280,00:03:17.100,辉英,,0,0,0,,fi minus half minus fi plus half.
Dialogue: 0,00:03:18.600,00:03:21.580,辉英,,0,0,0,,All right, let me keep writing this.
Dialogue: 0,00:03:22.420,00:03:27.220,辉英,,0,0,0,,dui plus 1 dt is equal to f of i plus half.
Dialogue: 0,00:03:27.440,00:03:30.640,辉英,,0,0,0,,minus fi plus 1 and half.
Dialogue: 0,00:03:32.480,00:03:35.240,辉英,,0,0,0,,Now, what's important in finite volume is that
Dialogue: 0,00:03:35.240,00:03:42.940,辉英,,0,0,0,,the way we computed this fi plus half is exactly the way we computed this fi plus half.
Dialogue: 0,00:03:43.960,00:03:44.520,辉英,,0,0,0,,Right?
Dialogue: 0,00:03:44.520,00:03:47.840,辉英,,0,0,0,,So it's the same number in our code.
Dialogue: 0,00:03:49.000,00:03:53.820,辉英,,0,0,0,,So the f interface is a vector of length n plus 1.
Dialogue: 0,00:03:54.460,00:03:56.520,辉英,,0,0,0,,The same fi.
Dialogue: 0,00:03:57.300,00:03:59.940,辉英,,0,0,0,,But when you add them together, it takes 1 integral.
Dialogue: 0,00:03:59.940,00:04:01.940,辉英,,0,0,0,,And once we come to the point where we can spread it out,
Dialogue: 0,00:04:02.620,00:04:06.240,辉英,,0,0,0,,the derivative is that if ui is 1,
Dialogue: 0,00:04:07.520,00:04:10.520,辉英,,0,0,0,,when ui is an integral of length n plus half,
Dialogue: 0,00:04:11.320,00:04:16.420,辉英,,0,0,0,,it's used for computing the derivative of ui and ui plus 1.
Dialogue: 0,00:04:17.960,00:04:20.000,辉英,,0,0,0,,Okay, so that's very important.
Dialogue: 0,00:04:20.000,00:04:23.200,辉英,,0,0,0,,If you violate that, it's no longer a finite volume scheme.
Dialogue: 0,00:04:23.200,00:04:28.980,辉英,,0,0,0,,The discrete integral, I mean, if you sum over these two,
Dialogue: 0,00:04:29.200,00:04:31.880,辉英,,0,0,0,,remember this is a cell average, this is also a cell average.
Dialogue: 0,00:04:31.880,00:04:36.520,辉英,,0,0,0,,The summation of these two is actually the total amount of u inside these two grid points.
Dialogue: 0,00:04:37.200,00:04:44.660,辉英,,0,0,0,,It is equal to one flux minus the other flux at these two ends of this interval.
Dialogue: 0,00:04:45.240,00:04:51.420,辉英,,0,0,0,,Although the value of this flux involves approximation, but the form is still the same.
Dialogue: 0,00:04:51.420,00:04:57.960,辉英,,0,0,0,,So you can keep writing that all the way to f of n, let's say, at the very end.
Dialogue: 0,00:04:57.960,00:05:02.780,辉英,,0,0,0,,This is equal to f of n minus half minus f of n plus half.
Dialogue: 0,00:05:02.920,00:05:09.200,辉英,,0,0,0,,If you add all of this together, every pair cancels except for the very first one and very last one.
Dialogue: 0,00:05:09.720,00:05:11.980,辉英,,0,0,0,,Although the form of this flux involves approximation,
Dialogue: 0,00:05:12.740,00:05:17.960,辉英,,0,0,0,,but the fact that the interior flux cancel each other has no problem.
Dialogue: 0,00:05:19.120,00:05:20.960,辉英,,0,0,0,,So, for example, if you draw...
Dialogue: 0,00:05:21.420,00:05:27.540,辉英,,0,0,0,,If you have boundary condition saying that the last flux has to be zero at some point,
Dialogue: 0,00:05:28.220,00:05:32.780,辉英,,0,0,0,,that's equivalent of if you draw a bag where the end you have no flux.
Dialogue: 0,00:05:33.140,00:05:40.000,辉英,,0,0,0,,Then it means that if I have flow goes into the first cell,
Dialogue: 0,00:05:40.140,00:05:45.980,辉英,,0,0,0,,then the time derivative of my total mass inside all this volume has to increase.
Dialogue: 0,00:05:46.800,00:05:50.000,辉英,,0,0,0,,And in an aerodynamic solver, for example, as the mass increases,
Dialogue: 0,00:05:50.000,00:05:51.320,辉英,,0,0,0,,the pressure is going to increase.
Dialogue: 0,00:05:51.420,00:05:59.080,辉英,,0,0,0,,And ultimately, it's going to push the flow back out of the inlet of the bag.
Dialogue: 0,00:06:00.500,00:06:08.180,辉英,,0,0,0,,So you can't have something that flows into a closed volume indefinitely if you use finite volume.
Dialogue: 0,00:06:10.460,00:06:16.880,辉英,,0,0,0,,If discrete conservation of mass or momentum or energy is important for you,
Dialogue: 0,00:06:17.940,00:06:21.080,辉英,,0,0,0,,then it's another motivation to use finite volume.
Dialogue: 0,00:06:21.420,00:06:24.420,辉英,,0,0,0,,Instead of another way of discretization.
Dialogue: 0,00:06:26.180,00:06:30.920,辉英,,0,0,0,,And also, we are going to be talking about it a little bit later.
Dialogue: 0,00:06:30.920,00:06:38.040,辉英,,0,0,0,,Another advantage of finite volume is it is a lot easier to deal with non-uniform,
Dialogue: 0,00:06:38.040,00:06:41.620,辉英,,0,0,0,,non-Cartesian complex mesh,
Dialogue: 0,00:06:42.840,00:06:47.840,辉英,,0,0,0,,which is useful for complex geometry using finite volume compared to finite difference.
Dialogue: 0,00:06:49.040,00:06:49.540,辉英,,0,0,0,,Okay.
Dialogue: 0,00:06:49.540,00:06:50.540,辉英,,0,0,0,,Finite difference is...
Dialogue: 0,00:06:51.420,00:06:57.040,辉英,,0,0,0,,It's very easy to use for Cartesian uniform grid.
Dialogue: 0,00:06:57.560,00:06:59.680,辉英,,0,0,0,,As the grid gets more and more complex,
Dialogue: 0,00:07:00.680,00:07:03.920,辉英,,0,0,0,,the complexity of finite difference scheme becomes...
Dialogue: 0,00:07:03.920,00:07:06.660,辉英,,0,0,0,,Increases very rapidly.
Dialogue: 0,00:07:07.300,00:07:09.420,辉英,,0,0,0,,While finite volume scheme, they stay...
Dialogue: 0,00:07:10.560,00:07:13.260,辉英,,0,0,0,,We're going to see like in 1D uniform mesh,
Dialogue: 0,00:07:13.380,00:07:17.140,辉英,,0,0,0,,it is not easy to do a finite volume scheme with more than first order.
Dialogue: 0,00:07:17.880,00:07:21.140,辉英,,0,0,0,,But the same complexity actually carries to 2D,
Dialogue: 0,00:07:21.420,00:07:23.180,辉英,,0,0,0,,3D unstructured mesh.
Dialogue: 0,00:07:23.180,00:07:29.420,辉英,,0,0,0,,So your complexity won't increase much as you go to very complex geometry.
Dialogue: 0,00:07:30.540,00:07:31.040,辉英,,0,0,0,,Alright.
Dialogue: 0,00:07:31.040,00:07:36.540,辉英,,0,0,0,,So this is the pros and cons of finite difference versus finite volume.
Dialogue: 0,00:07:36.540,00:07:39.540,辉英,,0,0,0,,If you choose a way of discretizing.
Dialogue: 0,00:07:42.260,00:07:48.260,辉英,,0,0,0,,By the way, there are schemes in finite difference that also have discrete conservation properties.
Dialogue: 0,00:07:48.260,00:07:50.020,辉英,,0,0,0,,But it's not automatic.
Dialogue: 0,00:07:50.020,00:07:51.220,辉英,,0,0,0,,You need to be very...
Dialogue: 0,00:07:51.220,00:07:53.220,辉英,,0,0,0,,You need to work hard to get that.
Dialogue: 0,00:07:53.220,00:07:59.220,辉英,,0,0,0,,Kind of choose your discretization schemes, do a lot of analysis to get that.
Dialogue: 0,00:07:59.220,00:08:01.220,辉英,,0,0,0,,While you find that volume is automatic.
Dialogue: 0,00:08:01.220,00:08:06.220,辉英,,0,0,0,,No matter what kind of flux you use, what kind of approximation you use on the flux,
Dialogue: 0,00:08:06.220,00:08:11.220,辉英,,0,0,0,,it discretely conserves what you are conserving.
